!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){AFRAME.registerSystem("voice-command",{init:function(){console.log("in voice-command system init"),this.entities=[],window.addEventListener("loaded",this.onSceneLoaded.bind(this))},registerMe:function(t){this.entities.push(t),console.log("in register, comp: "+t.data.command)},unregisterMe:function(t){var e=this.entities.indexOf(t);this.entities.splice(e,1)},onSceneLoaded:function(t){console.log("in voice-command system onSceneLoaded listener")},play:function(){console.log("in system play, entities: "+this.entities)}}),AFRAME.registerComponent("voice-command",{multiple:!0,schema:{command:{type:"string"},type:{type:"string"},targetElement:{type:"selector"},targetComponent:{type:"string"},"function":{type:"string"},attribute:{type:"string"},value:{type:"string"},keyCode:{type:"string"}},init:function(){this.system.registerMe(this),this.data.targetElement||(this.data.targetElement=this.el),this.data.keyCode&&window.addEventListener("keyup",this.onKeyup.bind(this))},remove:function(){this.system.unregisterMe(this)},play:function(){console.log("in voice-command play, command: "+this.data.command+", type: "+this.data.type)},executeCommand:function(){var t=this.data.targetElement;if("attribute"==this.data.type)t.setAttribute(this.data.attribute,this.data.value);else if("function"==this.data.type){var e=t.components[this.data.targetComponent];e[this.data["function"]]()}},onKeyup:function(t){t.keyCode==this.data.keyCode&&(console.log("in voice command keyup for: "+this.data.command),this.executeCommand())}}),AFRAME.registerComponent("annyang-voice-recognition",{init:function(){console.log("in annyang-voice-recognition init")},play:function(){if(annyang){for(var t=document.querySelector("a-scene").systems["voice-command"],e={},n={},i=0;i<t.entities.length;i++){var o=t.entities[i];n[o.data.command]=o,e[o.data.command]=function(){}}annyang.addCommands(e),annyang.addCallback("resultMatch",function(t,e,i){console.log("commandText: "+e);var o=n[e];o.executeCommand()}),annyang.start()}}})}]);